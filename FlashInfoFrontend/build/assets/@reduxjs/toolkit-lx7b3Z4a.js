var mt=Object.defineProperty;var wt=(e,t,r)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var le=(e,t,r)=>wt(e,typeof t!="symbol"?t+"":t,r);import{i as qe,a as vt,c as gt,b as Ct,d as _e,e as Pt}from"../redux-BXkGT1VS.js";import{t as St,w as Et}from"../redux-thunk-ClJT1hhx.js";var He=Symbol.for("immer-nothing"),ze=Symbol.for("immer-draftable"),g=Symbol.for("immer-state");function E(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var P=Object,N=P.getPrototypeOf,Q="constructor",ne="prototype",ye="configurable",Y="enumerable",G="writable",j="value",A=e=>!!e&&!!e[g];function T(e){var t;return e?Ke(e)||ie(e)||!!e[ze]||!!((t=e[Q])!=null&&t[ze])||se(e)||ce(e):!1}var kt=P[ne][Q].toString(),Le=new WeakMap;function Ke(e){if(!e||!ke(e))return!1;const t=N(e);if(t===null||t===P[ne])return!0;const r=P.hasOwnProperty.call(t,Q)&&t[Q];if(r===Object)return!0;if(!F(r))return!1;let n=Le.get(r);return n===void 0&&(n=Function.toString.call(r),Le.set(r,n)),n===kt}function V(e,t,r=!0){q(e)===0?(r?Reflect.ownKeys(e):P.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function q(e){const t=e[g];return t?t.type_:ie(e)?1:se(e)?2:ce(e)?3:0}var Fe=(e,t,r=q(e))=>r===2?e.has(t):P[ne].hasOwnProperty.call(e,t),pe=(e,t,r=q(e))=>r===2?e.get(t):e[t],Z=(e,t,r,n=q(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function bt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ie=Array.isArray,se=e=>e instanceof Map,ce=e=>e instanceof Set,ke=e=>typeof e=="object",F=e=>typeof e=="function",de=e=>typeof e=="boolean",R=e=>e.copy_||e.base_,be=e=>e.modified_?e.copy_:e.base_;function me(e,t){if(se(e))return new Map(e);if(ce(e))return new Set(e);if(ie(e))return Array[ne].slice.call(e);const r=Ke(e);if(t===!0||t==="class_only"&&!r){const n=P.getOwnPropertyDescriptors(e);delete n[g];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],a=n[c];a[G]===!1&&(a[G]=!0,a[ye]=!0),(a.get||a.set)&&(n[c]={[ye]:!0,[G]:!0,[Y]:a[Y],[j]:e[c]})}return P.create(N(e),n)}else{const n=N(e);if(n!==null&&r)return{...e};const i=P.create(n);return P.assign(i,e)}}function Te(e,t=!1){return ae(e)||A(e)||(q(e)>1&&P.defineProperties(e,{set:H,add:H,clear:H,delete:H}),P.freeze(e),t&&V(e,(r,n)=>{Te(n,!0)},!1)),e}function Tt(){E(2)}var H={[j]:Tt};function ae(e){return e===null||!ke(e)?!0:P.isFrozen(e)}var ee="MapSet",we="Patches",Xe={};function x(e){const t=Xe[e];return t||E(0,e),t}var Mt=e=>!!Xe[e],U,Ge=()=>U,Rt=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Mt(ee)?x(ee):void 0});function Ie(e,t){t&&(e.patchPlugin_=x(we),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ve(e){ge(e),e.drafts_.forEach(At),e.drafts_=null}function ge(e){e===U&&(U=e.parent_)}var Ne=e=>U=Rt(U,e);function At(e){const t=e[g];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xe(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[g].modified_&&(ve(t),E(4)),T(e)&&(e=Be(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[g].base_,e,t)}else e=Be(t,r);return Dt(t,e,!0),ve(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==He?e:void 0}function Be(e,t){if(ae(t))return t;const r=t[g];if(!r)return Me(t,e.handledSet_,e);if(!oe(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Ye(r,e)}return r.copy_}function Dt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Te(t,r)}function Je(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var oe=(e,t)=>e.scope_===t,Ot=[];function Qe(e,t,r,n){const i=R(e),s=e.type_;if(n!==void 0&&pe(i,n,s)===t){Z(i,n,r,s);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;V(i,(f,l)=>{if(A(l)){const o=a.get(l)||[];o.push(f),a.set(l,o)}})}const c=e.draftLocations_.get(t)??Ot;for(const a of c)Z(i,a,r,s)}function zt(e,t,r){e.callbacks_.push(function(i){var a;const s=t;if(!s||!oe(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const c=be(s);Qe(e,s.draft_??s,c,r),Ye(s,i)})}function Ye(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}Je(e)}}function Lt(e,t,r){const{scope_:n}=e;if(A(r)){const i=r[g];oe(i,n)&&i.callbacks_.push(function(){J(e);const c=be(i);Qe(e,r,c,t)})}else T(r)&&e.callbacks_.push(function(){const s=R(e);pe(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Me(pe(e.copy_,t,e.type_),n.handledSet_,n)})}function Me(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||A(e)||t.has(e)||!T(e)||ae(e)||(t.add(e),V(e,(n,i)=>{if(A(i)){const s=i[g];if(oe(s,r)){const c=be(s);Z(e,n,c,e.type_),Je(s)}}else T(i)&&Me(i,t,r)})),e}function Ft(e,t){const r=ie(e),n={type_:r?1:0,scope_:t?t.scope_:Ge(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=Re;r&&(i=[n],s=W);const{revoke:c,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=c,[a,n]}var Re={get(e,t){if(t===g)return e;const r=R(e);if(!Fe(r,t,e.type_))return It(e,r,t);const n=r[t];if(e.finalized_||!T(n))return n;if(n===he(e.base_,t)){J(e);const i=e.type_===1?+t:t,s=Pe(e.scope_,n,e,i);return e.copy_[i]=s}return n},has(e,t){return t in R(e)},ownKeys(e){return Reflect.ownKeys(R(e))},set(e,t,r){const n=Ze(R(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=he(R(e),t),s=i==null?void 0:i[g];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(bt(r,i)&&(r!==void 0||Fe(e.base_,t,e.type_)))return!0;J(e),Ce(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Lt(e,t,r)),!0},deleteProperty(e,t){return J(e),he(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ce(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=R(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[G]:!0,[ye]:e.type_!==1||t!=="length",[Y]:n[Y],[j]:r[t]}},defineProperty(){E(11)},getPrototypeOf(e){return N(e.base_)},setPrototypeOf(){E(12)}},W={};V(Re,(e,t)=>{W[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});W.deleteProperty=function(e,t){return W.set.call(this,e,t,void 0)};W.set=function(e,t,r){return Re.set.call(this,e[0],t,r,e[0])};function he(e,t){const r=e[g];return(r?R(r):e)[t]}function It(e,t,r){var i;const n=Ze(t,r);return n?j in n?n[j]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ze(e,t){if(!(t in e))return;let r=N(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=N(r)}}function Ce(e){e.modified_||(e.modified_=!0,e.parent_&&Ce(e.parent_))}function J(e){e.copy_||(e.assigned_=new Map,e.copy_=me(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(F(t)&&!F(r)){const s=r;r=t;const c=this;return function(f=s,...l){return c.produce(f,o=>r.call(this,o,...l))}}F(r)||E(6),n!==void 0&&!F(n)&&E(7);let i;if(T(t)){const s=Ne(this),c=Pe(s,t,void 0);let a=!0;try{i=r(c),a=!1}finally{a?ve(s):ge(s)}return Ie(s,n),xe(i,s)}else if(!t||!ke(t)){if(i=r(t),i===void 0&&(i=t),i===He&&(i=void 0),this.autoFreeze_&&Te(i,!0),n){const s=[],c=[];x(we).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:c}),n(s,c)}return i}else E(1,t)},this.produceWithPatches=(t,r)=>{if(F(t))return(c,...a)=>this.produceWithPatches(c,f=>t(f,...a));let n,i;return[this.produce(t,r,(c,a)=>{n=c,i=a}),n,i]},de(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),de(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),de(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){T(e)||E(8),A(e)&&(e=xt(e));const t=Ne(this),r=Pe(t,e,void 0);return r[g].isManual_=!0,ge(t),r}finishDraft(e,t){const r=e&&e[g];(!r||!r.isManual_)&&E(9);const{scope_:n}=r;return Ie(n,t),xe(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=x(we).applyPatches_;return A(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Pe(e,t,r,n){const[i,s]=se(t)?x(ee).proxyMap_(t,r):ce(t)?x(ee).proxySet_(t,r):Ft(t,r);return((r==null?void 0:r.scope_)??Ge()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?zt(r,s,n):s.callbacks_.push(function(f){var o;(o=f.mapSetPlugin_)==null||o.fixSetContents(s);const{patchPlugin_:l}=f;s.modified_&&l&&l.generatePatches_(s,[],f)}),i}function xt(e){return A(e)||E(10,e),et(e)}function et(e){if(!T(e)||ae(e))return e;const t=e[g];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=me(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=me(e,!0);return V(r,(i,s)=>{Z(r,i,et(s))},n),t&&(t.finalized_=!1),r}var Bt=new Nt,tt=Bt.produce,$t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_e:_e.apply(null,arguments)};function B(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(S(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>qe(n)&&n.type===e,r}var rt=class $ extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$.prototype)}static get[Symbol.species](){return $}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $(...t[0].concat(this)):new $(...t.concat(this))}};function $e(e){return T(e)?tt(e,()=>{}):e}function K(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function jt(e){return typeof e=="boolean"}var Ut=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new rt;return r&&(jt(r)?c.push(St):c.push(Et(r.extraArgument))),c},nt="RTK_autoBatch",mr=()=>e=>({payload:e,meta:{[nt]:!0}}),je=e=>t=>{setTimeout(t,e)},Wt=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const a=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:je(10):e.type==="callback"?e.queueNotification:je(e.timeout),l=()=>{c=!1,s&&(s=!1,a.forEach(o=>o()))};return Object.assign({},n,{subscribe(o){const _=()=>i&&o(),v=n.subscribe(_);return a.add(o),()=>{v(),a.delete(o)}},dispatch(o){var _;try{return i=!((_=o==null?void 0:o.meta)!=null&&_[nt]),s=!i,s&&(c||(c=!0,f(l))),n.dispatch(o)}finally{i=!0}}})},Vt=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new rt(e);return n&&i.push(Wt(typeof n=="object"?n:void 0)),i};function wr(e){const t=Ut(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let a;if(typeof r=="function")a=r;else if(vt(r))a=gt(r);else throw new Error(S(1));let f;typeof n=="function"?f=n(t):f=t();let l=_e;i&&(l=$t({trace:!1,...typeof i=="object"&&i}));const o=Ct(...f),_=Vt(o);let v=typeof c=="function"?c(_):_();const u=l(...v);return Pt(a,s,u)}function it(e){const t={},r=[];let n;const i={addCase(s,c){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(S(28));if(a in t)throw new Error(S(29));return t[a]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function qt(e){return typeof e=="function"}function Ht(e,t){let[r,n,i]=it(t),s;if(qt(e))s=()=>$e(e());else{const a=$e(e);s=()=>a}function c(a=s(),f){let l=[r[f.type],...n.filter(({matcher:o})=>o(f)).map(({reducer:o})=>o)];return l.filter(o=>!!o).length===0&&(l=[i]),l.reduce((o,_)=>{if(_)if(A(o)){const u=_(o,f);return u===void 0?o:u}else{if(T(o))return tt(o,v=>_(v,f));{const v=_(o,f);if(v===void 0){if(o===null)return o;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return o},a)}return c.getInitialState=s,c}var Kt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xt=(e=21)=>{let t="",r=e;for(;r--;)t+=Kt[Math.random()*64|0];return t},Gt=Symbol.for("rtk-slice-createasyncthunk");function Jt(e,t){return`${e}/${t}`}function Qt({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Gt];return function(i){const{name:s,reducerPath:c=s}=i;if(!s)throw new Error(S(11));const a=(typeof i.reducers=="function"?i.reducers(Zt()):i.reducers)||{},f=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(d,h){const p=typeof d=="string"?d:d.type;if(!p)throw new Error(S(12));if(p in l.sliceCaseReducersByType)throw new Error(S(13));return l.sliceCaseReducersByType[p]=h,o},addMatcher(d,h){return l.sliceMatchers.push({matcher:d,reducer:h}),o},exposeAction(d,h){return l.actionCreators[d]=h,o},exposeCaseReducer(d,h){return l.sliceCaseReducersByName[d]=h,o}};f.forEach(d=>{const h=a[d],p={reducerName:d,type:Jt(s,d),createNotation:typeof i.reducers=="function"};tr(h)?nr(p,h,o,t):er(p,h,o)});function _(){const[d={},h=[],p=void 0]=typeof i.extraReducers=="function"?it(i.extraReducers):[i.extraReducers],k={...d,...l.sliceCaseReducersByType};return Ht(i.initialState,b=>{for(let C in k)b.addCase(C,k[C]);for(let C of l.sliceMatchers)b.addMatcher(C.matcher,C.reducer);for(let C of h)b.addMatcher(C.matcher,C.reducer);p&&b.addDefaultCase(p)})}const v=d=>d,u=new Map,y=new WeakMap;let m;function M(d,h){return m||(m=_()),m(d,h)}function w(){return m||(m=_()),m.getInitialState()}function D(d,h=!1){function p(b){let C=b[d];return typeof C>"u"&&h&&(C=K(y,p,w)),C}function k(b=v){const C=K(u,h,()=>new WeakMap);return K(C,b,()=>{const Oe={};for(const[yt,pt]of Object.entries(i.selectors??{}))Oe[yt]=Yt(pt,b,()=>K(y,b,w),h);return Oe})}return{reducerPath:d,getSelectors:k,get selectors(){return k(p)},selectSlice:p}}const O={name:s,reducer:M,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...D(c),injectInto(d,{reducerPath:h,...p}={}){const k=h??c;return d.inject({reducerPath:k,reducer:M},p),{...O,...D(k,!0)}}};return O}}function Yt(e,t,r,n){function i(s,...c){let a=t(s);return typeof a>"u"&&n&&(a=r()),e(a,...c)}return i.unwrapped=e,i}var vr=Qt();function Zt(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function er({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!rr(n))throw new Error(S(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?B(e,c):B(e))}function tr(e){return e._reducerDefinitionType==="asyncThunk"}function rr(e){return e._reducerDefinitionType==="reducerWithPrepare"}function nr({type:e,reducerName:t},r,n,i){if(!i)throw new Error(S(18));const{payloadCreator:s,fulfilled:c,pending:a,rejected:f,settled:l,options:o}=r,_=i(e,s,o);n.exposeAction(t,_),c&&n.addCase(_.fulfilled,c),a&&n.addCase(_.pending,a),f&&n.addCase(_.rejected,f),l&&n.addMatcher(_.settled,l),n.exposeCaseReducer(t,{fulfilled:c||X,pending:a||X,rejected:f||X,settled:l||X})}function X(){}var ir="task",st="listener",ct="completed",Ae="cancelled",sr=`task-${Ae}`,cr=`task-${ct}`,Se=`${st}-${Ae}`,ar=`${st}-${ct}`,ue=class{constructor(e){le(this,"name","TaskAbortError");le(this,"message");this.code=e,this.message=`${ir} ${Ae} (reason: ${e})`}},De=(e,t)=>{if(typeof e!="function")throw new TypeError(S(32))},te=()=>{},at=(e,t=te)=>(e.catch(t),e),ot=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),z=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},L=e=>{if(e.aborted){const{reason:t}=e;throw new ue(t)}};function ut(e,t){let r=te;return new Promise((n,i)=>{const s=()=>i(new ue(e.reason));if(e.aborted){s();return}r=ot(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=te})}var or=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ue?"cancelled":"rejected",error:r}}finally{t==null||t()}},re=e=>t=>at(ut(e,t).then(r=>(L(e),r))),ft=e=>{const t=re(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:I}=Object,Ue={},fe="listenerMiddleware",ur=(e,t)=>{const r=n=>ot(e,()=>z(n,e.reason));return(n,i)=>{De(n);const s=new AbortController;r(s);const c=or(async()=>{L(e),L(s.signal);const a=await n({pause:re(s.signal),delay:ft(s.signal),signal:s.signal});return L(s.signal),a},()=>z(s,cr));return i!=null&&i.autoJoin&&t.push(c.catch(te)),{result:re(e)(c),cancel(){z(s,sr)}}}},fr=(e,t)=>{const r=async(n,i)=>{L(t);let s=()=>{};const a=[new Promise((f,l)=>{let o=e({predicate:n,effect:(_,v)=>{v.unsubscribe(),f([_,v.getState(),v.getOriginalState()])}});s=()=>{o(),l()}})];i!=null&&a.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await ut(t,Promise.race(a));return L(t),f}finally{s()}};return(n,i)=>at(r(n,i))},lt=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=B(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(S(21));return De(s),{predicate:i,type:t,effect:s}},dt=I(e=>{const{type:t,predicate:r,effect:n}=lt(e);return{id:Xt(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(S(22))}}},{withTypes:()=>dt}),We=(e,t)=>{const{type:r,effect:n,predicate:i}=lt(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Ee=e=>{e.pending.forEach(t=>{z(t,Se)})},lr=(e,t)=>()=>{for(const r of t.keys())Ee(r);e.clear()},Ve=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ht=I(B(`${fe}/add`),{withTypes:()=>ht}),dr=B(`${fe}/removeAll`),_t=I(B(`${fe}/remove`),{withTypes:()=>_t}),hr=(...e)=>{console.error(`${fe}/error`,...e)},gr=(e={})=>{const t=new Map,r=new Map,n=u=>{const y=r.get(u)??0;r.set(u,y+1)},i=u=>{const y=r.get(u)??1;y===1?r.delete(u):r.set(u,y-1)},{extra:s,onError:c=hr}=e;De(c);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),y=>{u.unsubscribe(),y!=null&&y.cancelActive&&Ee(u)}),f=u=>{const y=We(t,u)??dt(u);return a(y)};I(f,{withTypes:()=>f});const l=u=>{const y=We(t,u);return y&&(y.unsubscribe(),u.cancelActive&&Ee(y)),!!y};I(l,{withTypes:()=>l});const o=async(u,y,m,M)=>{const w=new AbortController,D=fr(f,w.signal),O=[];try{u.pending.add(w),n(u),await Promise.resolve(u.effect(y,I({},m,{getOriginalState:M,condition:(d,h)=>D(d,h).then(Boolean),take:D,delay:ft(w.signal),pause:re(w.signal),extra:s,signal:w.signal,fork:ur(w.signal,O),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((d,h,p)=>{d!==w&&(z(d,Se),p.delete(d))})},cancel:()=>{z(w,Se),u.pending.delete(w)},throwIfCancelled:()=>{L(w.signal)}})))}catch(d){d instanceof ue||Ve(c,d,{raisedBy:"effect"})}finally{await Promise.all(O),z(w,ar),i(u),u.pending.delete(w)}},_=lr(t,r);return{middleware:u=>y=>m=>{if(!qe(m))return y(m);if(ht.match(m))return f(m.payload);if(dr.match(m)){_();return}if(_t.match(m))return l(m.payload);let M=u.getState();const w=()=>{if(M===Ue)throw new Error(S(23));return M};let D;try{if(D=y(m),t.size>0){const O=u.getState(),d=Array.from(t.values());for(const h of d){let p=!1;try{p=h.predicate(m,O,M)}catch(k){p=!1,Ve(c,k,{raisedBy:"predicate"})}p&&o(h,m,u,w)}}}finally{M=Ue}return D},startListening:f,stopListening:l,clearListeners:_}};function S(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{xt as a,B as b,vr as c,gr as d,wr as e,Wt as f,mr as p};
