import{_ as z,a as L,h as ie,i as oe,b as T,j as K,d as U,e as p,c as q}from"../@babel/runtime-bjg2LrFx.js";import{a as $}from"../react-DHBI0EtI.js";import{u as Y,t as Z,a as ee,b as me}from"./cssinjs-DsNH0EtS.js";import"../rc-util-DJfO4RUt.js";var ue=z(function n(){L(this,n)}),ce="CALC_UNIT",be=new RegExp(ce,"g");function F(n){return typeof n=="number"?"".concat(n).concat(ce):n}var xe=function(n){ie(t,n);var s=oe(t);function t(r,e){var a;L(this,t),a=s.call(this),T(K(a),"result",""),T(K(a),"unitlessCssVar",void 0),T(K(a),"lowPriority",void 0);var i=U(r);return a.unitlessCssVar=e,r instanceof t?a.result="(".concat(r.result,")"):i==="number"?a.result=F(r):i==="string"&&(a.result=r),a}return z(t,[{key:"add",value:function(e){return e instanceof t?this.result="".concat(this.result," + ").concat(e.getResult()):(typeof e=="number"||typeof e=="string")&&(this.result="".concat(this.result," + ").concat(F(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof t?this.result="".concat(this.result," - ").concat(e.getResult()):(typeof e=="number"||typeof e=="string")&&(this.result="".concat(this.result," - ").concat(F(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," * ").concat(e.getResult(!0)):(typeof e=="number"||typeof e=="string")&&(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof t?this.result="".concat(this.result," / ").concat(e.getResult(!0)):(typeof e=="number"||typeof e=="string")&&(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var a=this,i=e||{},o=i.unit,c=!0;return typeof o=="boolean"?c=o:Array.from(this.unitlessCssVar).some(function(O){return a.result.includes(O)})&&(c=!1),this.result=this.result.replace(be,c?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),t}(ue),Te=function(n){ie(t,n);var s=oe(t);function t(r){var e;return L(this,t),e=s.call(this),T(K(e),"result",0),r instanceof t?e.result=r.result:typeof r=="number"&&(e.result=r),e}return z(t,[{key:"add",value:function(e){return e instanceof t?this.result+=e.result:typeof e=="number"&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof t?this.result-=e.result:typeof e=="number"&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof t?this.result*=e.result:typeof e=="number"&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof t?this.result/=e.result:typeof e=="number"&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),t}(ue),ke=function(s,t){var r=s==="css"?xe:Te;return function(e){return new r(e,t)}},te=function(s,t){return"".concat([t,s.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function re(n,s,t,r){var e=p({},s[n]);if(r!=null&&r.deprecatedTokens){var a=r.deprecatedTokens;a.forEach(function(o){var c=q(o,2),O=c[0],V=c[1];if(e!=null&&e[O]||e!=null&&e[V]){var E;(E=e[V])!==null&&E!==void 0||(e[V]=e==null?void 0:e[O])}})}var i=p(p({},t),e);return Object.keys(i).forEach(function(o){i[o]===s[o]&&delete i[o]}),i}var le=typeof CSSINJS_STATISTIC<"u",H=!0;function fe(){for(var n=arguments.length,s=new Array(n),t=0;t<n;t++)s[t]=arguments[t];if(!le)return Object.assign.apply(Object,[{}].concat(s));H=!1;var r={};return s.forEach(function(e){if(U(e)==="object"){var a=Object.keys(e);a.forEach(function(i){Object.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return e[i]}})})}}),H=!0,r}var ne={};function Pe(){}var je=function(s){var t,r=s,e=Pe;return le&&typeof Proxy<"u"&&(t=new Set,r=new Proxy(s,{get:function(i,o){if(H){var c;(c=t)===null||c===void 0||c.add(o)}return i[o]}}),e=function(i,o){var c;ne[i]={global:Array.from(t),component:p(p({},(c=ne[i])===null||c===void 0?void 0:c.component),o)}}),{token:r,keys:t,flush:e}};function se(n,s,t){if(typeof t=="function"){var r;return t(fe(s,(r=s[n])!==null&&r!==void 0?r:{}))}return t??{}}function Ve(n){return n==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return"max(".concat(r.map(function(a){return Y(a)}).join(","),")")},min:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return"min(".concat(r.map(function(a){return Y(a)}).join(","),")")}}}var we=1e3*60*10,Ae=function(){function n(){L(this,n),T(this,"map",new Map),T(this,"objectIDMap",new WeakMap),T(this,"nextID",0),T(this,"lastAccessBeat",new Map),T(this,"accessBeat",0)}return z(n,[{key:"set",value:function(t,r){this.clear();var e=this.getCompositeKey(t);this.map.set(e,r),this.lastAccessBeat.set(e,Date.now())}},{key:"get",value:function(t){var r=this.getCompositeKey(t),e=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,e}},{key:"getCompositeKey",value:function(t){var r=this,e=t.map(function(a){return a&&U(a)==="object"?"obj_".concat(r.getObjectID(a)):"".concat(U(a),"_").concat(a)});return e.join("|")}},{key:"getObjectID",value:function(t){if(this.objectIDMap.has(t))return this.objectIDMap.get(t);var r=this.nextID;return this.objectIDMap.set(t,r),this.nextID+=1,r}},{key:"clear",value:function(){var t=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(e,a){r-e>we&&(t.map.delete(a),t.lastAccessBeat.delete(a))}),this.accessBeat=0}}}]),n}(),ae=new Ae;function Ie(n,s){return $.useMemo(function(){var t=ae.get(s);if(t)return t;var r=n();return ae.set(s,r),r},s)}var _e=function(){return{}};function Ue(n){var s=n.useCSP,t=s===void 0?_e:s,r=n.useToken,e=n.usePrefix,a=n.getResetStyles,i=n.getCommonStyle,o=n.getCompUnitless;function c(u,w,v,l){var b=Array.isArray(u)?u[0]:u;function k(d){return"".concat(String(b)).concat(d.slice(0,1).toUpperCase()).concat(d.slice(1))}var g=(l==null?void 0:l.unitless)||{},j=typeof o=="function"?o(u):{},P=p(p({},j),{},T({},k("zIndexPopup"),!0));Object.keys(g).forEach(function(d){P[k(d)]=g[d]});var h=p(p({},l),{},{unitless:P,prefixToken:k}),A=V(u,w,v,h),C=O(b,v,h);return function(d){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,m=A(d,y),I=q(m,2),f=I[1],_=C(y),S=q(_,2),x=S[0],B=S[1];return[x,f,B]}}function O(u,w,v){var l=v.unitless,b=v.injectStyle,k=b===void 0?!0:b,g=v.prefixToken,j=v.ignore,P=function(C){var d=C.rootCls,y=C.cssVar,m=y===void 0?{}:y,I=r(),f=I.realToken;return me({path:[u],prefix:m.prefix,key:m.key,unitless:l,ignore:j,token:f,scope:d},function(){var _=se(u,f,w),S=re(u,f,_,{deprecatedTokens:v==null?void 0:v.deprecatedTokens});return Object.keys(_).forEach(function(x){S[g(x)]=S[x],delete S[x]}),S}),null},h=function(C){var d=r(),y=d.cssVar;return[function(m){return k&&y?$.createElement($.Fragment,null,$.createElement(P,{rootCls:C,cssVar:y,component:u}),m):m},y==null?void 0:y.key]};return h}function V(u,w,v){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=Array.isArray(u)?u:[u,u],k=q(b,1),g=k[0],j=b.join("-"),P=n.layer||{name:"antd"};return function(h){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,C=r(),d=C.theme,y=C.realToken,m=C.hashId,I=C.token,f=C.cssVar,_=e(),S=_.rootPrefixCls,x=_.iconPrefixCls,B=t(),N=f?"css":"js",ve=Ie(function(){var M=new Set;return f&&Object.keys(l.unitless||{}).forEach(function(D){M.add(Z(D,f.prefix)),M.add(Z(D,te(g,f.prefix)))}),ke(N,M)},[N,g,f==null?void 0:f.prefix]),J=Ve(N),he=J.max,de=J.min,W={theme:d,token:I,hashId:m,nonce:function(){return B.nonce},clientOnly:l.clientOnly,layer:P,order:l.order||-999};typeof a=="function"&&ee(p(p({},W),{},{clientOnly:!1,path:["Shared",S]}),function(){return a(I,{prefix:{rootPrefixCls:S,iconPrefixCls:x},csp:B})});var ye=ee(p(p({},W),{},{path:[j,h,x]}),function(){if(l.injectStyle===!1)return[];var M=je(I),D=M.token,pe=M.flush,R=se(g,y,v),ge=".".concat(h),G=re(g,y,R,{deprecatedTokens:l.deprecatedTokens});f&&R&&U(R)==="object"&&Object.keys(R).forEach(function(X){R[X]="var(".concat(Z(X,te(g,f.prefix)),")")});var Q=fe(D,{componentCls:ge,prefixCls:h,iconCls:".".concat(x),antCls:".".concat(S),calc:ve,max:he,min:de},f?R:G),Ce=w(Q,{hashId:m,prefixCls:h,rootPrefixCls:S,iconPrefixCls:x});pe(g,G);var Se=typeof i=="function"?i(Q,h,A,l.resetFont):null;return[l.resetStyle===!1?null:Se,Ce]});return[ye,m]}}function E(u,w,v){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=V(u,w,v,p({resetStyle:!1,order:-998},l)),k=function(j){var P=j.prefixCls,h=j.rootCls,A=h===void 0?P:h;return b(P,A),null};return k}return{genStyleHooks:c,genSubStyleComponent:E,genComponentStyleHook:V}}export{Ue as g,fe as m};
